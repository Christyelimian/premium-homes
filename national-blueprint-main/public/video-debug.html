<!DOCTYPE html>
<html>
<head>
    <title>Video Debug</title>
    <style>
        body { margin: 0; background: #000; }
        video { width: 100%; height: 100vh; object-fit: cover; }
        .debug { position: fixed; top: 10px; left: 10px; background: rgba(255,255,255,0.9); padding: 10px; font-family: monospace; max-width: 300px; }
    </style>
</head>
<body>
    <div class="debug" id="debug">Loading...</div>
    <video id="video" autoPlay muted loop playsinline preload="auto">
        <source src="/assets/premiumhomes-video.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>

    <script>
        const video = document.getElementById('video');
        const debug = document.getElementById('debug');
        
        function updateDebug(message) {
            debug.innerHTML += '<br>' + message;
        }
        
        video.addEventListener('loadstart', () => updateDebug('Load started'));
        video.addEventListener('loadedmetadata', () => updateDebug('Metadata loaded'));
        video.addEventListener('loadeddata', () => updateDebug('Data loaded'));
        video.addEventListener('canplay', () => updateDebug('Can play'));
        video.addEventListener('play', () => updateDebug('Playing'));
        video.addEventListener('pause', () => updateDebug('Paused'));
        video.addEventListener('error', (e) => updateDebug('Error: ' + JSON.stringify(e)));
        video.addEventListener('stalled', () => updateDebug('Stalled'));
        video.addEventListener('waiting', () => updateDebug('Waiting'));
        
        video.addEventListener('progress', () => {
            if (video.buffered.length > 0) {
                const bufferedEnd = video.buffered.end(video.buffered.length - 1);
                const duration = video.duration;
                if (duration > 0) {
                    updateDebug('Buffered: ' + Math.round((bufferedEnd / duration) * 100) + '%');
                }
            }
        });
        
        updateDebug('ReadyState: ' + video.readyState);
        updateDebug('NetworkState: ' + video.networkState);
    </script>
</body>
</html>